<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en"><generator uri="https://jekyllrb.com/" version="4.4.1">Jekyll</generator><link href="https://alshedivat.github.io/feed.xml" rel="self" type="application/atom+xml"/><link href="https://alshedivat.github.io/" rel="alternate" type="text/html" hreflang="en"/><updated>2025-09-12T00:40:47+00:00</updated><id>https://alshedivat.github.io/feed.xml</id><title type="html">blank</title><subtitle>A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. </subtitle><entry><title type="html">十二因子 tweleve factor</title><link href="https://alshedivat.github.io/blog/2025/tweleve-factor/" rel="alternate" type="text/html" title="十二因子 tweleve factor"/><published>2025-09-11T01:59:00+00:00</published><updated>2025-09-11T01:59:00+00:00</updated><id>https://alshedivat.github.io/blog/2025/tweleve-factor</id><content type="html" xml:base="https://alshedivat.github.io/blog/2025/tweleve-factor/"><![CDATA[<h1 id="十二要素应用程序方法论">十二要素应用程序方法论</h1> <p>在现代，软件通常以服务的形式交付：称为<em>Web应用程序</em>或<em>软件即服务</em>。十二要素应用程序是一种构建软件即服务应用程序的方法论，它：</p> <ul> <li>使用<strong>声明式</strong>格式进行设置自动化，以最小化新开发人员加入项目的时间和成本；</li> <li>与底层操作系统有<strong>清晰的契约</strong>，在执行环境之间提供<strong>最大的可移植性</strong>；</li> <li>适用于现代<strong>云平台</strong>部署，无需服务器和系统管理；</li> <li><strong>最小化</strong>开发和生产环境之间的差异，实现<strong>持续部署</strong>以获得最大敏捷性；</li> <li>可以<strong>横向扩展</strong>而无需对工具、架构或开发实践进行重大更改。</li> </ul> <p>十二要素方法论可以应用于任何编程语言编写的应用程序，以及使用任何组合的后端服务（数据库、队列、内存缓存等）的应用程序。</p> <h2 id="i-代码库">I. 代码库</h2> <h3 id="一个代码库由版本控制系统管理多个部署">一个代码库由版本控制系统管理，多个部署</h3> <h4 id="1-十二要素应用程序始终由版本控制系统跟踪">1. 十二要素应用程序始终由版本控制系统跟踪。</h4> <p>十二要素应用程序始终由版本控制系统跟踪。版本跟踪数据库的副本被称为<em>代码仓库</em>，通常简称为<em>代码库</em>或<em>仓库</em>。</p> <p>版本控制系统的示例包括<a href="http://git-scm.com/">Git</a>、<a href="https://www.mercurial-scm.org/">Mercurial</a>和<a href="http://subversion.apache.org/">Subversion</a>。</p> <p><em>代码库</em>是指任何单个仓库（在像Subversion这样的集中式版本控制系统中），或任何共享根提交的仓库集（在像Git这样的去中心化版本控制系统中）。</p> <h4 id="2-代码库与应用程序之间始终存在一对一的关系">2. 代码库与应用程序之间始终存在一对一的关系。</h4> <p>代码库与应用程序之间始终存在一对一的关系：</p> <ul> <li>如果有多个代码库，那就不是一个应用程序——而是一个分布式系统。分布式系统中的每个组件都是一个应用程序，每个组件都可以单独符合十二要素。</li> <li>多个应用程序共享相同代码违反了十二要素。</li> </ul> <h4 id="3-一个代码库可以部署在多个环境中">3. 一个代码库可以部署在多个环境中。</h4> <p>每个应用程序只有一个代码库，但应用程序会有许多部署。<em>部署</em>是应用程序的运行实例，通常是一个生产站点加上一个或多个预发布站点。此外，每个开发人员在本地开发环境中都有一个应用程序副本，每个副本也都符合部署的条件。</p> <p>所有部署中的代码库都是相同的，尽管每个部署中可能激活不同的版本。例如，开发人员可能有一些尚未部署到预发布的提交；预发布可能有一些尚未部署到生产的提交。但它们都共享相同的代码库，使它们可以被识别为同一应用程序的不同部署。</p> <h2 id="ii-依赖">II. 依赖</h2> <h3 id="显式声明和隔离依赖">显式声明和隔离依赖</h3> <h4 id="1-十二要素应用程序在确定性的环境中构建和运行">1. 十二要素应用程序在确定性的环境中构建和运行。</h4> <p>显式依赖声明的一个好处是简化了新开发人员的设置。新开发人员可以将应用程序的代码库检出到他们的开发机器上，只需要安装语言运行时和依赖管理器作为先决条件。他们能够通过确定性的构建命令设置运行应用程序代码所需的一切。</p> <p>例如，Ruby/Bundler的构建命令是bundle install，而Clojure/Leiningen的构建命令是lein deps。</p> <h4 id="2-十二要素应用程序不依赖于系统范围内包的隐式存在">2. 十二要素应用程序不依赖于系统范围内包的隐式存在。</h4> <p>它通过依赖声明清单完全准确地声明所有依赖。此外，它在执行期间使用依赖隔离工具来确保没有隐式依赖从周围系统”泄漏进来”。完整的显式依赖规范在生产和开发中统一应用。</p> <p>Bundler为Ruby提供了Gemfile清单格式用于依赖声明和bundle exec用于依赖隔离。在Python中，这两个步骤使用两个单独的工具——Pip用于声明，Virtualenv用于隔离。即使是C语言也有Autoconf用于依赖声明，静态链接可以提供依赖隔离。无论工具链如何，依赖声明和隔离必须始终一起使用——只有其中一个不足以满足十二要素。</p> <h4 id="3-十二要素应用程序不依赖于任何系统工具的隐式存在">3. 十二要素应用程序不依赖于任何系统工具的隐式存在。</h4> <p>虽然这些工具可能在许多甚至大多数系统上存在，但不能保证它们在应用程序可能运行的所有系统上都存在，或者未来系统上的版本是否与应用程序兼容。</p> <p>例如包括调用ImageMagick或curl。</p> <p>如果应用程序需要调用系统工具，该工具应该被包含到应用程序中。</p> <h2 id="iii-配置">III. 配置</h2> <h3 id="在环境中存储配置">在环境中存储配置</h3> <h4 id="1-十二要素应用程序严格分离配置和代码">1. 十二要素应用程序严格分离配置和代码</h4> <p>应用程序的<em>配置</em>是指在<a href="./codebase.md">部署</a>之间可能发生变化的所有内容（预发布、生产、开发环境等）。配置在不同部署之间变化很大；代码则不会。应用程序有时将配置存储为代码中的常量。这违反了十二要素，十二要素要求<strong>严格分离配置和代码</strong>。</p> <p>判断应用程序是否已将所有配置正确地从代码中分离出来的试金石是，代码库是否可以在任何时候开源，而不会泄露任何凭据。</p> <p>请注意，这个”配置”的定义<strong>不</strong>包括应用程序内部配置，例如Rails中的<code class="language-plaintext highlighter-rouge">config/routes.rb</code>，或者Spring中<a href="http://docs.spring.io/spring/docs/current/spring-framework-reference/html/beans.html">代码模块如何连接</a>。这种类型的配置在不同部署之间不会变化，最好在代码中完成。</p> <p>示例包括：</p> <ul> <li>数据库、Memcached和其他<a href="./backing-services.md">后端服务</a>的资源句柄</li> <li>外部服务（如Amazon S3或Twitter）的凭据</li> <li>每个部署的值，如部署的规范主机名</li> </ul> <h4 id="2-十二要素应用程序将配置存储在环境变量中">2. 十二要素应用程序将配置存储在环境变量中</h4> <p>另一种配置方法是使用未检入版本控制的配置文件，例如Rails中的<code class="language-plaintext highlighter-rouge">config/database.yml</code>。这比使用检入代码仓库的常量有了很大改进，但仍然有弱点：很容易错误地将配置文件检入仓库；配置文件往往分散在不同地方和不同格式中，难以在一个地方查看和管理所有配置。此外，这些格式往往是特定于语言或框架的。</p> <p><strong>十二要素应用程序将配置存储在<em>环境变量</em>中</strong>（通常简称为<em>env vars</em>或<em>env</em>）。环境变量易于在不同部署之间更改而无需更改代码；与配置文件不同，它们很少被意外检入代码仓库；与自定义配置文件或其他配置机制（如Java系统属性）不同，它们是语言和操作系统无关的标准。</p> <h4 id="3-十二要素应用程序将环境变量视为粒度控制从不按环境分组">3. 十二要素应用程序将环境变量视为粒度控制，从不按环境分组</h4> <p>配置管理的另一个方面是分组。有时应用程序将配置批处理为命名的组（通常称为”环境”），以特定部署命名，例如Rails中的<code class="language-plaintext highlighter-rouge">development</code>、<code class="language-plaintext highlighter-rouge">test</code>和<code class="language-plaintext highlighter-rouge">production</code>环境。这种方法不能很好地扩展：随着应用程序创建更多部署，需要新的环境名称，例如<code class="language-plaintext highlighter-rouge">staging</code>或<code class="language-plaintext highlighter-rouge">qa</code>。随着项目进一步发展，开发人员可能会添加他们自己的特殊环境，如<code class="language-plaintext highlighter-rouge">joes-staging</code>，导致配置的组合爆炸，使应用程序部署管理变得非常脆弱。</p> <p>在十二要素应用程序中，环境变量为每个部署独立管理。它们从不作为”环境”分组，而是被视为粒度控制。这种模型随着应用程序在其生命周期中自然扩展到更多部署而平稳扩展。</p> <h2 id="iv-后端服务">IV. 后端服务</h2> <h3 id="将后端服务视为附加资源">将后端服务视为附加资源</h3> <h4 id="1-十二要素应用程序依赖后端服务进行正常操作">1. 十二要素应用程序依赖后端服务进行正常操作。</h4> <p><em>后端服务</em>是应用程序在正常操作过程中通过网络使用的所有服务。</p> <p>示例包括数据存储（如<a href="http://dev.mysql.com/">MySQL</a>或<a href="http://couchdb.apache.org/">CouchDB</a>）、消息/队列系统（如<a href="http://www.rabbitmq.com/">RabbitMQ</a>或<a href="https://beanstalkd.github.io">Beanstalkd</a>）、用于外发邮件的SMTP服务（如<a href="http://www.postfix.org/">Postfix</a>）和缓存系统（如<a href="http://memcached.org/">Memcached</a>）。</p> <h4 id="2-十二要素应用程序将每个不同的后端服务视为可附加资源">2. 十二要素应用程序将每个不同的后端服务视为可附加资源。</h4> <p>每个不同的后端服务都是一个<em>资源</em>，表示其与所附加部署的松耦合。</p> <p>例如，MySQL数据库是一个资源；两个MySQL数据库（在应用层用于分片）构成两个不同的资源。</p> <p>资源可以根据需要附加到和从部署中分离。例如，如果应用程序的数据库由于硬件问题而出现问题，应用程序的管理员可能会启动一个新的从最近备份恢复的数据库服务器。当前的生产数据库可以被分离，新数据库可以被附加——所有这些都无需任何代码更改。</p> <h4 id="3-十二要素应用程序使用存储在配置中的连接字符串引用所有服务">3. 十二要素应用程序使用存储在配置中的连接字符串引用所有服务。</h4> <p>像数据库这样的后端服务传统上由部署应用程序运行时的相同系统管理员管理。除了这些本地管理的服务外，应用程序还可能有由第三方提供和管理的服务。十二要素应用程序的代码对本地和第三方服务不作区分；对应用程序来说，两者都是<em>附加资源</em>，通过存储在<a href="./config.md">配置</a>中的URL或其他定位器/凭据访问。</p> <p>第三方服务的示例包括SMTP服务（如<a href="http://postmarkapp.com/">Postmark</a>）、指标收集服务（如<a href="http://newrelic.com/">New Relic</a>或<a href="http://www.loggly.com/">Loggly</a>）、二进制资产服务（如<a href="http://aws.amazon.com/s3/">Amazon S3</a>），甚至是可通过API访问的消费者服务（如<a href="http://dev.twitter.com/">Twitter</a>、<a href="https://developers.google.com/maps/">Google Maps</a>或<a href="http://www.last.fm/api">Last.fm</a>）。</p> <p>应用程序的<a href="./codebase.md">部署</a>应该能够将本地MySQL数据库替换为第三方管理的数据库（如<a href="http://aws.amazon.com/rds/">Amazon RDS</a>），而无需对应用程序代码进行任何更改。同样，本地SMTP服务器可以替换为第三方SMTP服务（如Postmark）而无需代码更改。在这两种情况下，只需要更改配置中的资源句柄。</p>]]></content><author><name></name></author><category term="architect-theory"/><category term="architect,"/><category term="arch,"/><category term="cloudnative,"/><category term="CN,"/><category term="stateless"/><summary type="html"><![CDATA[云原生对应用设计的要求]]></summary></entry><entry><title type="html">云中立之我见</title><link href="https://alshedivat.github.io/blog/2025/yun-zhong-li-zhi-wo-jian/" rel="alternate" type="text/html" title="云中立之我见"/><published>2025-09-01T00:00:00+00:00</published><updated>2025-09-01T00:00:00+00:00</updated><id>https://alshedivat.github.io/blog/2025/yun-zhong-li-zhi-wo-jian</id><content type="html" xml:base="https://alshedivat.github.io/blog/2025/yun-zhong-li-zhi-wo-jian/"><![CDATA[<h1 id="云中立之我见">云中立之我见</h1> <h2 id="什么是云中立">什么是云中立</h2> <p>云中立（Cloud Neutrality）是指在云计算领域中，用户或企业不依赖于单一云服务提供商，而是采用多云策略或混合云架构的理念。具体来说，它包含以下几个方面：</p> <h3 id="技术层面">技术层面</h3> <ul> <li>避免被单一云厂商锁定（Vendor Lock-in）</li> <li>使用标准化的API和接口</li> <li>实现跨云平台的可移植性</li> </ul> <h3 id="业务层面">业务层面</h3> <ul> <li>根据不同需求选择最适合的云服务</li> <li>通过多云部署提高业务连续性</li> <li>优化成本效益</li> </ul> <h3 id="战略层面">战略层面</h3> <ul> <li>降低对单一供应商的依赖风险</li> <li>增强议价能力</li> <li>提高灵活性和创新速度</li> </ul> <p>云中立的核心思想是保持选择的开放性和灵活性，避免过度依赖任何一家云服务提供商。</p> <h2 id="云中立的成本分析">云中立的成本分析</h2> <h3 id="1-技术复杂性成本">1. 技术复杂性成本</h3> <ul> <li><strong>架构设计复杂度增加</strong>：需要设计能够跨云平台运行的系统架构</li> <li><strong>标准化适配成本</strong>：需要将不同云厂商的服务进行抽象和标准化</li> <li><strong>运维复杂度提升</strong>：需要管理多个云平台的监控、日志、安全等</li> </ul> <h3 id="2-开发和维护成本">2. 开发和维护成本</h3> <ul> <li><strong>多平台适配开发</strong>：需要为不同云平台开发和维护相应的适配层</li> <li><strong>技能要求提升</strong>：团队需要掌握多种云平台的技术栈</li> <li><strong>测试成本增加</strong>：需要在多个云平台上进行兼容性测试</li> </ul> <h3 id="3-管理和运营成本">3. 管理和运营成本</h3> <ul> <li><strong>多云管理工具</strong>：需要投入额外的工具和平台来统一管理多个云环境</li> <li><strong>人员培训成本</strong>：培养多云技能的团队需要更多时间和资源</li> <li><strong>合规和安全成本</strong>：需要满足不同云平台的安全和合规要求</li> </ul> <h3 id="4-性能和优化成本">4. 性能和优化成本</h3> <ul> <li><strong>网络延迟</strong>：跨云平台的数据传输可能增加延迟</li> <li><strong>资源利用率</strong>：可能无法充分利用单一云平台的优化特性</li> <li><strong>成本优化难度</strong>：难以实现单一云平台的价格优惠和打包折扣</li> </ul> <h3 id="5-机会成本">5. 机会成本</h3> <ul> <li><strong>失去深度集成优势</strong>：无法充分利用单一云平台的深度集成服务</li> <li><strong>学习曲线成本</strong>：在多个平台间分散精力，可能影响专业化深度</li> </ul> <h2 id="对云中立的反思">对云中立的反思</h2> <p>云中立策略可能会带来一些潜在的问题：</p> <h3 id="云中立的局限性">云中立的局限性</h3> <p><strong>1. 专业化分工的倒退</strong></p> <ul> <li>云计算的核心价值之一是让企业专注于核心业务，而非基础设施</li> <li>云中立要求企业掌握多云技术栈，可能分散对核心业务的专注度</li> </ul> <p><strong>2. 重复造轮子</strong></p> <ul> <li>每个公司都需要构建跨云平台的抽象层</li> <li>无法充分利用特定云平台的深度优化功能</li> <li>造成行业整体的技术重复投入</li> </ul> <p><strong>3. 成本效益质疑</strong></p> <ul> <li>云原生理念是通过专业化服务降低整体IT成本</li> <li>云中立可能增加复杂性，反而提高总体拥有成本(TCO)</li> </ul> <h3 id="云原生的优势">云原生的优势</h3> <ul> <li><strong>深度集成</strong>：充分利用云平台的原生服务</li> <li><strong>持续创新</strong>：享受云厂商快速迭代的新功能</li> <li><strong>最优性能</strong>：针对特定平台的优化调优</li> <li><strong>简化管理</strong>：统一的技术栈和管理工具</li> </ul> <p>真正的云原生应该是拥抱特定云平台的优势，而不是强行追求中立性。企业应该根据自身情况选择最适合的云策略。</p> <h2 id="云原生与云中立的结合点">云原生与云中立的结合点</h2> <p>云原生与云中立并非完全对立的概念，它们可以在特定条件下找到结合点。关键在于理解”中立”的真正含义——应该是接口中立而非实现中立。</p> <h3 id="核心理念">核心理念</h3> <p>云原生与云中立的结合点在于：<strong>开源标准的接口加云本身的技术实现</strong>。这意味着：</p> <ol> <li><strong>接口标准化</strong>：云产品应支持行业标准的开源接口，确保互操作性</li> <li><strong>实现差异化</strong>：不同云厂商可以在标准接口基础上提供各自的技术优势和创新功能</li> <li><strong>选择灵活性</strong>：企业客户可以在不同的实现之间（不同的云提供商之间，或者云厂商和自建之间）做选择</li> </ol> <h3 id="实践价值">实践价值</h3> <p>这种结合方式的优势在于：</p> <ul> <li><strong>保留灵活性</strong>：企业可以基于标准接口在不同实现间迁移，避免厂商锁定</li> <li><strong>充分利用云能力</strong>：同时可以深度使用特定云厂商的优化服务和创新功能</li> <li><strong>平衡成本与效益</strong>：既避免了完全中立带来的复杂性成本，又保留了云原生的深度集成优势</li> </ul> <p>通过接口中立而非实现中立的方式，企业可以在享受云原生技术红利的同时，保持技术选择的开放性和灵活性。</p> <h2 id="名词解释">名词解释</h2> <h3 id="云原生cloud-native">云原生（Cloud Native）</h3> <p>云原生是一种构建和运行应用程序的方法，它充分利用云计算的弹性、可扩展性和分布式特性。云原生应用通常采用容器化、微服务架构，并使用云平台提供的各种托管服务，以实现快速迭代、高可用性和弹性伸缩。</p> <h3 id="云中立cloud-neutrality">云中立（Cloud Neutrality）</h3> <p>云中立是指在使用云计算服务时，不依赖于单一云服务提供商的策略。通过采用多云或混合云架构，企业可以在不同的云平台之间灵活迁移工作负载，避免被特定厂商锁定，保持技术选择的开放性。</p> <h3 id="tcototal-cost-of-ownership">TCO（Total Cost of Ownership）</h3> <p>总体拥有成本（TCO）是指在整个产品生命周期内拥有某项资产的总成本。在IT领域，TCO包括硬件/软件采购成本、部署成本、运维成本、培训成本、升级成本等所有相关费用。在云策略评估中，TCO用于比较不同方案的整体经济效益。</p>]]></content><author><name></name></author><summary type="html"><![CDATA[云中立之我见]]></summary></entry><entry><title type="html">a post with plotly.js</title><link href="https://alshedivat.github.io/blog/2025/plotly/" rel="alternate" type="text/html" title="a post with plotly.js"/><published>2025-03-26T14:24:00+00:00</published><updated>2025-03-26T14:24:00+00:00</updated><id>https://alshedivat.github.io/blog/2025/plotly</id><content type="html" xml:base="https://alshedivat.github.io/blog/2025/plotly/"><![CDATA[<p>This is an example post with some <a href="https://plotly.com/javascript/">plotly</a> code.</p> <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">```</span><span class="nl">plotly
</span><span class="sb">{
  "data": [
    {
      "x": [1, 2, 3, 4],
      "y": [10, 15, 13, 17],
      "type": "scatter"
    },
    {
      "x": [1, 2, 3, 4],
      "y": [16, 5, 11, 9],
      "type": "scatter"
    }
  ]
}</span>
<span class="p">```</span>
</code></pre></div></div> <p>Which generates:</p> <pre><code class="language-plotly">{
  "data": [
    {
      "x": [1, 2, 3, 4],
      "y": [10, 15, 13, 17],
      "type": "scatter"
    },
    {
      "x": [1, 2, 3, 4],
      "y": [16, 5, 11, 9],
      "type": "scatter"
    }
  ]
}
</code></pre> <p>Also another example chart.</p> <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">```</span><span class="nl">plotly
</span><span class="sb">{
  "data": [
    {
      "x": [1, 2, 3, 4],
      "y": [10, 15, 13, 17],
      "mode": "markers"
    },
    {
      "x": [2, 3, 4, 5],
      "y": [16, 5, 11, 9],
      "mode": "lines"
    },
    {
      "x": [1, 2, 3, 4],
      "y": [12, 9, 15, 12],
      "mode": "lines+markers"
    }
  ],
  "layout": {
    "title": {
      "text": "Line and Scatter Plot"
    }
  }
}</span>
<span class="p">```</span>
</code></pre></div></div> <p>This is how it looks like:</p> <pre><code class="language-plotly">{
  "data": [
    {
      "x": [1, 2, 3, 4],
      "y": [10, 15, 13, 17],
      "mode": "markers"
    },
    {
      "x": [2, 3, 4, 5],
      "y": [16, 5, 11, 9],
      "mode": "lines"
    },
    {
      "x": [1, 2, 3, 4],
      "y": [12, 9, 15, 12],
      "mode": "lines+markers"
    }
  ],
  "layout": {
    "title": {
      "text": "Line and Scatter Plot"
    }
  }
}
</code></pre>]]></content><author><name></name></author><category term="sample-posts"/><category term="formatting"/><category term="charts"/><summary type="html"><![CDATA[this is what included plotly.js code could look like]]></summary></entry><entry><title type="html">a post with image galleries</title><link href="https://alshedivat.github.io/blog/2024/photo-gallery/" rel="alternate" type="text/html" title="a post with image galleries"/><published>2024-12-04T01:59:00+00:00</published><updated>2024-12-04T01:59:00+00:00</updated><id>https://alshedivat.github.io/blog/2024/photo-gallery</id><content type="html" xml:base="https://alshedivat.github.io/blog/2024/photo-gallery/"><![CDATA[<p>The images in this post are all zoomable, arranged into different mini-galleries using different libraries.</p> <h2 id="lightbox2"><a href="https://lokeshdhakar.com/projects/lightbox2/">Lightbox2</a></h2> <p><a href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/1/img-2500.jpg" data-lightbox="roadtrip"><img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/1/img-200.jpg"/></a> <a href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/2/img-2500.jpg" data-lightbox="roadtrip"><img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/2/img-200.jpg"/></a> <a href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/3/img-2500.jpg" data-lightbox="roadtrip"><img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/3/img-200.jpg"/></a></p> <hr/> <h2 id="photoswipe"><a href="https://photoswipe.com/">PhotoSwipe</a></h2> <div class="pswp-gallery pswp-gallery--single-column" id="gallery--getting-started"> <a href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/2/img-2500.jpg" data-pswp-width="1669" data-pswp-height="2500" target="_blank"> <img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/2/img-200.jpg" alt=""/> </a> <a href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/7/img-2500.jpg" data-pswp-width="1875" data-pswp-height="2500" data-cropped="true" target="_blank"> <img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/7/img-200.jpg" alt=""/> </a> <a href="https://unsplash.com" data-pswp-src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/3/img-2500.jpg" data-pswp-width="2500" data-pswp-height="1666" target="_blank"> <img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/3/img-200.jpg" alt=""/> </a> <div> <a href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/6/img-2500.jpg" data-pswp-width="2500" data-pswp-height="1667" target="_blank"> <img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/6/img-200.jpg" alt=""/> </a> </div> </div> <hr/> <h2 id="spotlight-js"><a href="https://nextapps-de.github.io/spotlight/">Spotlight JS</a></h2> <div class="spotlight-group"> <a class="spotlight" href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/1/img-2500.jpg"> <img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/1/img-200.jpg"/> </a> <a class="spotlight" href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/2/img-2500.jpg"> <img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/2/img-200.jpg"/> </a> <a class="spotlight" href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/3/img-2500.jpg"> <img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/3/img-200.jpg"/> </a> </div> <div class="spotlight-group"> <a class="spotlight" href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/4/img-2500.jpg"> <img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/4/img-200.jpg"/> </a> <a class="spotlight" href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/5/img-2500.jpg"> <img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/5/img-200.jpg"/> </a> <a class="spotlight" href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/6/img-2500.jpg"> <img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/6/img-200.jpg"/> </a> </div> <hr/> <h2 id="venobox"><a href="https://veno.es/venobox/">Venobox</a></h2> <p><a class="venobox" data-gall="myGallery" href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/1/img-2500.jpg"><img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/1/img-200.jpg"/></a> <a class="venobox" data-gall="myGallery" href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/2/img-2500.jpg"><img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/2/img-200.jpg"/></a> <a class="venobox" data-gall="myGallery" href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/3/img-2500.jpg"><img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/3/img-200.jpg"/></a></p>]]></content><author><name></name></author><category term="sample-posts"/><category term="formatting"/><category term="images"/><summary type="html"><![CDATA[this is what included image galleries could look like]]></summary></entry><entry><title type="html">a post with tabs</title><link href="https://alshedivat.github.io/blog/2024/tabs/" rel="alternate" type="text/html" title="a post with tabs"/><published>2024-05-01T00:32:13+00:00</published><updated>2024-05-01T00:32:13+00:00</updated><id>https://alshedivat.github.io/blog/2024/tabs</id><content type="html" xml:base="https://alshedivat.github.io/blog/2024/tabs/"><![CDATA[<p>This is how a post with <a href="https://github.com/Ovski4/jekyll-tabs">tabs</a> looks like. Note that the tabs could be used for different purposes, not only for code.</p> <h2 id="first-tabs">First tabs</h2> <p>To add tabs, use the following syntax:</p> <div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">{%</span><span class="w"> </span><span class="nt">tabs</span><span class="w"> </span><span class="nv">group-name</span><span class="w"> </span><span class="cp">%}</span>

<span class="cp">{%</span><span class="w"> </span><span class="nt">tab</span><span class="w"> </span><span class="nv">group-name</span><span class="w"> </span><span class="nv">tab-name-1</span><span class="w"> </span><span class="cp">%}</span>

Content 1

<span class="cp">{%</span><span class="w"> </span><span class="nt">endtab</span><span class="w"> </span><span class="cp">%}</span>

<span class="cp">{%</span><span class="w"> </span><span class="nt">tab</span><span class="w"> </span><span class="nv">group-name</span><span class="w"> </span><span class="nv">tab-name-2</span><span class="w"> </span><span class="cp">%}</span>

Content 2

<span class="cp">{%</span><span class="w"> </span><span class="nt">endtab</span><span class="w"> </span><span class="cp">%}</span>

<span class="cp">{%</span><span class="w"> </span><span class="nt">endtabs</span><span class="w"> </span><span class="cp">%}</span>
</code></pre></div></div> <p>With this you can generate visualizations like:</p> <ul id="log" class="tab" data-tab="441469e6-2891-4031-bffc-d5d0f40d539d" data-name="log"> <li class="active" id="log-php"> <a href="#">php </a> </li> <li id="log-js"> <a href="#">js </a> </li> <li id="log-ruby"> <a href="#">ruby </a> </li> </ul> <ul class="tab-content" id="441469e6-2891-4031-bffc-d5d0f40d539d" data-name="log"> <li class="active"> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">var_dump</span><span class="p">(</span><span class="s1">'hello'</span><span class="p">);</span>
</code></pre></div></div> </li> <li> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">hello</span><span class="dl">"</span><span class="p">);</span>
</code></pre></div></div> </li> <li> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">pputs</span> <span class="dl">'</span><span class="s1">hello</span><span class="dl">'</span>
</code></pre></div></div> </li> </ul> <h2 id="another-example">Another example</h2> <ul id="data-struct" class="tab" data-tab="ce03bf43-299a-4a55-83a4-03394243e9d9" data-name="data-struct"> <li class="active" id="data-struct-yaml"> <a href="#">yaml </a> </li> <li id="data-struct-json"> <a href="#">json </a> </li> </ul> <ul class="tab-content" id="ce03bf43-299a-4a55-83a4-03394243e9d9" data-name="data-struct"> <li class="active"> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">hello</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s2">"</span><span class="s">whatsup"</span>
  <span class="pi">-</span> <span class="s2">"</span><span class="s">hi"</span>
</code></pre></div></div> </li> <li> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"hello"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"whatsup"</span><span class="p">,</span><span class="w"> </span><span class="s2">"hi"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> </li> </ul> <h2 id="tabs-for-something-else">Tabs for something else</h2> <ul id="something-else" class="tab" data-tab="b026a032-d038-4887-8ca1-920a22760b43" data-name="something-else"> <li class="active" id="something-else-text"> <a href="#">text </a> </li> <li id="something-else-quote"> <a href="#">quote </a> </li> <li id="something-else-list"> <a href="#">list </a> </li> </ul> <ul class="tab-content" id="b026a032-d038-4887-8ca1-920a22760b43" data-name="something-else"> <li class="active"> <p>Regular text</p> </li> <li> <blockquote> <p>A quote</p> </blockquote> </li> <li> <p>Hipster list</p> <ul> <li>brunch</li> <li>fixie</li> <li>raybans</li> <li>messenger bag</li> </ul> </li> </ul>]]></content><author><name></name></author><category term="sample-posts"/><category term="formatting"/><category term="code"/><summary type="html"><![CDATA[this is what included tabs in a post could look like]]></summary></entry><entry><title type="html">a post with typograms</title><link href="https://alshedivat.github.io/blog/2024/typograms/" rel="alternate" type="text/html" title="a post with typograms"/><published>2024-04-29T23:36:10+00:00</published><updated>2024-04-29T23:36:10+00:00</updated><id>https://alshedivat.github.io/blog/2024/typograms</id><content type="html" xml:base="https://alshedivat.github.io/blog/2024/typograms/"><![CDATA[<p>This is an example post with some <a href="https://github.com/google/typograms/">typograms</a> code.</p> <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">```</span><span class="nl">typograms
</span><span class="sb">+----+
|    |---&gt; My first diagram!
+----+</span>
<span class="p">```</span>
</code></pre></div></div> <p>Which generates:</p> <pre><code class="language-typograms">+----+
|    |---&gt; My first diagram!
+----+
</code></pre> <p>Another example:</p> <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">```</span><span class="nl">typograms
</span><span class="sb">.------------------------.
|.----------------------.|
||"https://example.com" ||
|'----------------------'|
| ______________________ |
||                      ||
||   Welcome!           ||
||                      ||
||                      ||
||  .----------------.  ||
||  | username       |  ||
||  '----------------'  ||
||  .----------------.  ||
||  |"*******"       |  ||
||  '----------------'  ||
||                      ||
||  .----------------.  ||
||  |   "Sign-up"    |  ||
||  '----------------'  ||
||                      ||
|+----------------------+|
.------------------------.</span>
<span class="p">```</span>
</code></pre></div></div> <p>which generates:</p> <pre><code class="language-typograms">.------------------------.
|.----------------------.|
||"https://example.com" ||
|'----------------------'|
| ______________________ |
||                      ||
||   Welcome!           ||
||                      ||
||                      ||
||  .----------------.  ||
||  | username       |  ||
||  '----------------'  ||
||  .----------------.  ||
||  |"*******"       |  ||
||  '----------------'  ||
||                      ||
||  .----------------.  ||
||  |   "Sign-up"    |  ||
||  '----------------'  ||
||                      ||
|+----------------------+|
.------------------------.
</code></pre> <p>For more examples, check out the <a href="https://google.github.io/typograms/#examples">typograms documentation</a>.</p>]]></content><author><name></name></author><category term="sample-posts"/><category term="formatting"/><category term="diagrams"/><summary type="html"><![CDATA[this is what included typograms code could look like]]></summary></entry><entry><title type="html">a post that can be cited</title><link href="https://alshedivat.github.io/blog/2024/post-citation/" rel="alternate" type="text/html" title="a post that can be cited"/><published>2024-04-28T15:06:00+00:00</published><updated>2024-04-28T15:06:00+00:00</updated><id>https://alshedivat.github.io/blog/2024/post-citation</id><content type="html" xml:base="https://alshedivat.github.io/blog/2024/post-citation/"><![CDATA[<p>This is an example post that can be cited. The content of the post ends here, while the citation information is automatically provided below. The only thing needed is for you to set the <code class="language-plaintext highlighter-rouge">citation</code> key in the front matter to <code class="language-plaintext highlighter-rouge">true</code>.</p>]]></content><author><name></name></author><category term="sample-posts"/><category term="formatting"/><category term="citation"/><summary type="html"><![CDATA[this is what a post that can be cited looks like]]></summary></entry><entry><title type="html">a post with pseudo code</title><link href="https://alshedivat.github.io/blog/2024/pseudocode/" rel="alternate" type="text/html" title="a post with pseudo code"/><published>2024-04-15T00:01:00+00:00</published><updated>2024-04-15T00:01:00+00:00</updated><id>https://alshedivat.github.io/blog/2024/pseudocode</id><content type="html" xml:base="https://alshedivat.github.io/blog/2024/pseudocode/"><![CDATA[<p>This is an example post with some pseudo code rendered by <a href="https://github.com/SaswatPadhi/pseudocode.js">pseudocode</a>. The example presented here is the same as the one in the <a href="https://saswat.padhi.me/pseudocode.js/">pseudocode.js</a> documentation, with only one simple but important change: everytime you would use <code class="language-plaintext highlighter-rouge">$</code>, you should use <code class="language-plaintext highlighter-rouge">$$</code> instead. Also, note that the <code class="language-plaintext highlighter-rouge">pseudocode</code> key in the front matter is set to <code class="language-plaintext highlighter-rouge">true</code> to enable the rendering of pseudo code. As an example, using this code:</p> <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">```</span><span class="nl">pseudocode
</span><span class="sb">% This quicksort algorithm is extracted from Chapter 7, Introduction to Algorithms (3rd edition)
\begin{algorithm}
\caption{Quicksort}
\begin{algorithmic}
\PROCEDURE{Quicksort}{$$A, p, r$$}
    \IF{$$p &lt; r$$}
        \STATE $$q = $$ \CALL{Partition}{$$A, p, r$$}
        \STATE \CALL{Quicksort}{$$A, p, q - 1$$}
        \STATE \CALL{Quicksort}{$$A, q + 1, r$$}
    \ENDIF
\ENDPROCEDURE
\PROCEDURE{Partition}{$$A, p, r$$}
    \STATE $$x = A[r]$$
    \STATE $$i = p - 1$$
    \FOR{$$j = p$$ \TO $$r - 1$$}
        \IF{$$A[j] &lt; x$$}
            \STATE $$i = i + 1$$
            \STATE exchange
            $$A[i]$$ with $$A[j]$$
        \ENDIF
        \STATE exchange $$A[i]$$ with $$A[r]$$
    \ENDFOR
\ENDPROCEDURE
\end{algorithmic}
\end{algorithm}</span>
<span class="p">```</span>
</code></pre></div></div> <p>Generates:</p> <pre><code class="language-pseudocode">% This quicksort algorithm is extracted from Chapter 7, Introduction to Algorithms (3rd edition)
\begin{algorithm}
\caption{Quicksort}
\begin{algorithmic}
\PROCEDURE{Quicksort}{$$A, p, r$$}
    \IF{$$p &lt; r$$}
        \STATE $$q = $$ \CALL{Partition}{$$A, p, r$$}
        \STATE \CALL{Quicksort}{$$A, p, q - 1$$}
        \STATE \CALL{Quicksort}{$$A, q + 1, r$$}
    \ENDIF
\ENDPROCEDURE
\PROCEDURE{Partition}{$$A, p, r$$}
    \STATE $$x = A[r]$$
    \STATE $$i = p - 1$$
    \FOR{$$j = p$$ \TO $$r - 1$$}
        \IF{$$A[j] &lt; x$$}
            \STATE $$i = i + 1$$
            \STATE exchange
            $$A[i]$$ with $$A[j]$$
        \ENDIF
        \STATE exchange $$A[i]$$ with $$A[r]$$
    \ENDFOR
\ENDPROCEDURE
\end{algorithmic}
\end{algorithm}
</code></pre>]]></content><author><name></name></author><category term="sample-posts"/><category term="formatting"/><category term="code"/><summary type="html"><![CDATA[this is what included pseudo code could look like]]></summary></entry><entry><title type="html">a post with code diff</title><link href="https://alshedivat.github.io/blog/2024/code-diff/" rel="alternate" type="text/html" title="a post with code diff"/><published>2024-01-27T19:22:00+00:00</published><updated>2024-01-27T19:22:00+00:00</updated><id>https://alshedivat.github.io/blog/2024/code-diff</id><content type="html" xml:base="https://alshedivat.github.io/blog/2024/code-diff/"><![CDATA[<p>You can display diff code by using the regular markdown syntax:</p> <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">```</span><span class="nl">diff
</span><span class="gh">diff --git a/sample.js b/sample.js
index 0000001..0ddf2ba
</span><span class="gd">--- a/sample.js
</span><span class="gi">+++ b/sample.js
</span><span class="p">@@ -1 +1 @@</span>
<span class="gd">-console.log("Hello World!")
</span><span class="gi">+console.log("Hello from Diff2Html!")</span>
<span class="p">```</span>
</code></pre></div></div> <p>Which generates:</p> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/sample.js b/sample.js
index 0000001..0ddf2ba
</span><span class="gd">--- a/sample.js
</span><span class="gi">+++ b/sample.js
</span><span class="p">@@ -1 +1 @@</span>
<span class="gd">-console.log("Hello World!")
</span><span class="gi">+console.log("Hello from Diff2Html!")
</span></code></pre></div></div> <p>But this is difficult to read, specially if you have a large diff. You can use <a href="https://diff2html.xyz/">diff2html</a> to display a more readable version of the diff. For this, just use <code class="language-plaintext highlighter-rouge">diff2html</code> instead of <code class="language-plaintext highlighter-rouge">diff</code> for the code block language:</p> <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">```</span><span class="nl">diff2html
</span><span class="sb">diff --git a/sample.js b/sample.js
index 0000001..0ddf2ba
--- a/sample.js
+++ b/sample.js
@@ -1 +1 @@
-console.log("Hello World!")
+console.log("Hello from Diff2Html!")</span>
<span class="p">```</span>
</code></pre></div></div> <p>If we use a longer example, for example <a href="https://github.com/rtfpessoa/diff2html/commit/c2c253d3e3f8b8b267f551e659f72b44ca2ac927">this commit from diff2html</a>, it will generate the following output:</p> <pre><code class="language-diff2html">From 2aaae31cc2a37bfff83430c2c914b140bee59b6a Mon Sep 17 00:00:00 2001
From: Rodrigo Fernandes &lt;rtfrodrigo@gmail.com&gt;
Date: Sun, 9 Oct 2016 16:41:54 +0100
Subject: [PATCH 1/2] Initial template override support

---
 scripts/hulk.js                    |  4 ++--
 src/diff2html.js                   |  3 +--
 src/file-list-printer.js           | 11 ++++++++---
 src/hoganjs-utils.js               | 29 +++++++++++++++++------------
 src/html-printer.js                |  6 ++++++
 src/line-by-line-printer.js        |  6 +++++-
 src/side-by-side-printer.js        |  6 +++++-
 test/file-list-printer-tests.js    |  2 +-
 test/hogan-cache-tests.js          | 18 +++++++++++++++---
 test/line-by-line-tests.js         |  3 +--
 test/side-by-side-printer-tests.js |  3 +--
 11 files changed, 62 insertions(+), 29 deletions(-)

diff --git a/scripts/hulk.js b/scripts/hulk.js
index 5a793c18..a4b1a4d5 100755
--- a/scripts/hulk.js
+++ b/scripts/hulk.js
@@ -173,11 +173,11 @@ function namespace(name) {
 // write a template foreach file that matches template extension
 templates = extractFiles(options.argv.remain)
   .map(function(file) {
-    var openedFile = fs.readFileSync(file, 'utf-8');
+    var openedFile = fs.readFileSync(file, 'utf-8').trim();
     var name;
     if (!openedFile) return;
     name = namespace(path.basename(file).replace(/\..*$/, ''));
-    openedFile = removeByteOrderMark(openedFile.trim());
+    openedFile = removeByteOrderMark(openedFile);
     openedFile = wrap(file, name, openedFile);
     if (!options.outputdir) return openedFile;
     fs.writeFileSync(path.join(options.outputdir, name + '.js')
diff --git a/src/diff2html.js b/src/diff2html.js
index 21b0119e..64e138f5 100644
--- a/src/diff2html.js
+++ b/src/diff2html.js
@@ -7,7 +7,6 @@

 (function() {
   var diffParser = require('./diff-parser.js').DiffParser;
-  var fileLister = require('./file-list-printer.js').FileListPrinter;
   var htmlPrinter = require('./html-printer.js').HtmlPrinter;

   function Diff2Html() {
@@ -43,7 +42,7 @@

     var fileList = '';
     if (configOrEmpty.showFiles === true) {
-      fileList = fileLister.generateFileList(diffJson, configOrEmpty);
+      fileList = htmlPrinter.generateFileListSummary(diffJson, configOrEmpty);
     }

     var diffOutput = '';
diff --git a/src/file-list-printer.js b/src/file-list-printer.js
index e408d9b2..1e0a2c61 100644
--- a/src/file-list-printer.js
+++ b/src/file-list-printer.js
@@ -8,11 +8,16 @@
 (function() {
   var printerUtils = require('./printer-utils.js').PrinterUtils;

-  var hoganUtils = require('./hoganjs-utils.js').HoganJsUtils;
+  var hoganUtils;
+
   var baseTemplatesPath = 'file-summary';
   var iconsBaseTemplatesPath = 'icon';

-  function FileListPrinter() {
+  function FileListPrinter(config) {
+    this.config = config;
+
+    var HoganJsUtils = require('./hoganjs-utils.js').HoganJsUtils;
+    hoganUtils = new HoganJsUtils(config);
   }

   FileListPrinter.prototype.generateFileList = function(diffFiles) {
@@ -38,5 +43,5 @@
     });
   };

-  module.exports.FileListPrinter = new FileListPrinter();
+  module.exports.FileListPrinter = FileListPrinter;
 })();
diff --git a/src/hoganjs-utils.js b/src/hoganjs-utils.js
index 9949e5fa..0dda08d7 100644
--- a/src/hoganjs-utils.js
+++ b/src/hoganjs-utils.js
@@ -8,18 +8,19 @@
 (function() {
   var fs = require('fs');
   var path = require('path');
-
   var hogan = require('hogan.js');

   var hoganTemplates = require('./templates/diff2html-templates.js');

-  var templatesPath = path.resolve(__dirname, 'templates');
+  var extraTemplates;

-  function HoganJsUtils() {
+  function HoganJsUtils(configuration) {
+    this.config = configuration || {};
+    extraTemplates = this.config.templates || {};
   }

-  HoganJsUtils.prototype.render = function(namespace, view, params, configuration) {
-    var template = this.template(namespace, view, configuration);
+  HoganJsUtils.prototype.render = function(namespace, view, params) {
+    var template = this.template(namespace, view);
     if (template) {
       return template.render(params);
     }
@@ -27,17 +28,16 @@
     return null;
   };

-  HoganJsUtils.prototype.template = function(namespace, view, configuration) {
-    var config = configuration || {};
+  HoganJsUtils.prototype.template = function(namespace, view) {
     var templateKey = this._templateKey(namespace, view);

-    return this._getTemplate(templateKey, config);
+    return this._getTemplate(templateKey);
   };

-  HoganJsUtils.prototype._getTemplate = function(templateKey, config) {
+  HoganJsUtils.prototype._getTemplate = function(templateKey) {
     var template;

-    if (!config.noCache) {
+    if (!this.config.noCache) {
       template = this._readFromCache(templateKey);
     }

@@ -53,6 +53,7 @@

     try {
       if (fs.readFileSync) {
+        var templatesPath = path.resolve(__dirname, 'templates');
         var templatePath = path.join(templatesPath, templateKey);
         var templateContent = fs.readFileSync(templatePath + '.mustache', 'utf8');
         template = hogan.compile(templateContent);
@@ -66,12 +67,16 @@
   };

   HoganJsUtils.prototype._readFromCache = function(templateKey) {
-    return hoganTemplates[templateKey];
+    return extraTemplates[templateKey] || hoganTemplates[templateKey];
   };

   HoganJsUtils.prototype._templateKey = function(namespace, view) {
     return namespace + '-' + view;
   };

-  module.exports.HoganJsUtils = new HoganJsUtils();
+  HoganJsUtils.prototype.compile = function(templateStr) {
+    return hogan.compile(templateStr);
+  };
+
+  module.exports.HoganJsUtils = HoganJsUtils;
 })();
diff --git a/src/html-printer.js b/src/html-printer.js
index 585d5b66..13f83047 100644
--- a/src/html-printer.js
+++ b/src/html-printer.js
@@ -8,6 +8,7 @@
 (function() {
   var LineByLinePrinter = require('./line-by-line-printer.js').LineByLinePrinter;
   var SideBySidePrinter = require('./side-by-side-printer.js').SideBySidePrinter;
+  var FileListPrinter = require('./file-list-printer.js').FileListPrinter;

   function HtmlPrinter() {
   }
@@ -22,5 +23,10 @@
     return sideBySidePrinter.generateSideBySideJsonHtml(diffFiles);
   };

+  HtmlPrinter.prototype.generateFileListSummary = function(diffJson, config) {
+    var fileListPrinter = new FileListPrinter(config);
+    return fileListPrinter.generateFileList(diffJson);
+  };
+
   module.exports.HtmlPrinter = new HtmlPrinter();
 })();
diff --git a/src/line-by-line-printer.js b/src/line-by-line-printer.js
index b07eb53c..d230bedd 100644
--- a/src/line-by-line-printer.js
+++ b/src/line-by-line-printer.js
@@ -11,7 +11,8 @@
   var utils = require('./utils.js').Utils;
   var Rematch = require('./rematch.js').Rematch;

-  var hoganUtils = require('./hoganjs-utils.js').HoganJsUtils;
+  var hoganUtils;
+
   var genericTemplatesPath = 'generic';
   var baseTemplatesPath = 'line-by-line';
   var iconsBaseTemplatesPath = 'icon';
@@ -19,6 +20,9 @@

   function LineByLinePrinter(config) {
     this.config = config;
+
+    var HoganJsUtils = require('./hoganjs-utils.js').HoganJsUtils;
+    hoganUtils = new HoganJsUtils(config);
   }

   LineByLinePrinter.prototype.makeFileDiffHtml = function(file, diffs) {
diff --git a/src/side-by-side-printer.js b/src/side-by-side-printer.js
index bbf1dc8d..5e3033b3 100644
--- a/src/side-by-side-printer.js
+++ b/src/side-by-side-printer.js
@@ -11,7 +11,8 @@
   var utils = require('./utils.js').Utils;
   var Rematch = require('./rematch.js').Rematch;

-  var hoganUtils = require('./hoganjs-utils.js').HoganJsUtils;
+  var hoganUtils;
+
   var genericTemplatesPath = 'generic';
   var baseTemplatesPath = 'side-by-side';
   var iconsBaseTemplatesPath = 'icon';
@@ -26,6 +27,9 @@

   function SideBySidePrinter(config) {
     this.config = config;
+
+    var HoganJsUtils = require('./hoganjs-utils.js').HoganJsUtils;
+    hoganUtils = new HoganJsUtils(config);
   }

   SideBySidePrinter.prototype.makeDiffHtml = function(file, diffs) {
diff --git a/test/file-list-printer-tests.js b/test/file-list-printer-tests.js
index a502a46f..60ea3208 100644
--- a/test/file-list-printer-tests.js
+++ b/test/file-list-printer-tests.js
@@ -1,6 +1,6 @@
 var assert = require('assert');

-var fileListPrinter = require('../src/file-list-printer.js').FileListPrinter;
+var fileListPrinter = new (require('../src/file-list-printer.js').FileListPrinter)();

 describe('FileListPrinter', function() {
   describe('generateFileList', function() {
diff --git a/test/hogan-cache-tests.js b/test/hogan-cache-tests.js
index 190bf6f8..3bb754ac 100644
--- a/test/hogan-cache-tests.js
+++ b/test/hogan-cache-tests.js
@@ -1,6 +1,6 @@
 var assert = require('assert');

-var HoganJsUtils = require('../src/hoganjs-utils.js').HoganJsUtils;
+var HoganJsUtils = new (require('../src/hoganjs-utils.js').HoganJsUtils)();
 var diffParser = require('../src/diff-parser.js').DiffParser;

 describe('HoganJsUtils', function() {
@@ -21,16 +21,28 @@ describe('HoganJsUtils', function() {
       });
       assert.equal(emptyDiffHtml, result);
     });
+
     it('should render view without cache', function() {
       var result = HoganJsUtils.render('generic', 'empty-diff', {
         contentClass: 'd2h-code-line',
         diffParser: diffParser
       }, {noCache: true});
-      assert.equal(emptyDiffHtml + '\n', result);
+      assert.equal(emptyDiffHtml, result);
     });
+
     it('should return null if template is missing', function() {
-      var result = HoganJsUtils.render('generic', 'missing-template', {}, {noCache: true});
+      var hoganUtils = new (require('../src/hoganjs-utils.js').HoganJsUtils)({noCache: true});
+      var result = hoganUtils.render('generic', 'missing-template', {});
       assert.equal(null, result);
     });
+
+    it('should allow templates to be overridden', function() {
+      var emptyDiffTemplate = HoganJsUtils.compile('&lt;p&gt;&lt;/p&gt;');
+
+      var config = {templates: {'generic-empty-diff': emptyDiffTemplate}};
+      var hoganUtils = new (require('../src/hoganjs-utils.js').HoganJsUtils)(config);
+      var result = hoganUtils.render('generic', 'empty-diff', {myName: 'Rodrigo Fernandes'});
+      assert.equal('&lt;p&gt;Rodrigo Fernandes&lt;/p&gt;', result);
+    });
   });
 });
diff --git a/test/line-by-line-tests.js b/test/line-by-line-tests.js
index 1cd92073..8869b3df 100644
--- a/test/line-by-line-tests.js
+++ b/test/line-by-line-tests.js
@@ -14,7 +14,7 @@ describe('LineByLinePrinter', function() {
         '            File without changes\n' +
         '        &lt;/div&gt;\n' +
         '    &lt;/td&gt;\n' +
-        '&lt;/tr&gt;\n';
+        '&lt;/tr&gt;';

       assert.equal(expected, fileHtml);
     });
@@ -422,7 +422,6 @@ describe('LineByLinePrinter', function() {
         '        &lt;/div&gt;\n' +
         '    &lt;/td&gt;\n' +
         '&lt;/tr&gt;\n' +
-        '\n' +
         '                &lt;/tbody&gt;\n' +
         '            &lt;/table&gt;\n' +
         '        &lt;/div&gt;\n' +
diff --git a/test/side-by-side-printer-tests.js b/test/side-by-side-printer-tests.js
index 76625f8e..771daaa5 100644
--- a/test/side-by-side-printer-tests.js
+++ b/test/side-by-side-printer-tests.js
@@ -14,7 +14,7 @@ describe('SideBySidePrinter', function() {
         '            File without changes\n' +
         '        &lt;/div&gt;\n' +
         '    &lt;/td&gt;\n' +
-        '&lt;/tr&gt;\n';
+        '&lt;/tr&gt;';

       assert.equal(expectedRight, fileHtml.right);
       assert.equal(expectedLeft, fileHtml.left);
@@ -324,7 +324,6 @@ describe('SideBySidePrinter', function() {
         '        &lt;/div&gt;\n' +
         '    &lt;/td&gt;\n' +
         '&lt;/tr&gt;\n' +
-        '\n' +
         '                    &lt;/tbody&gt;\n' +
         '                &lt;/table&gt;\n' +
         '            &lt;/div&gt;\n' +

From f3cadb96677d0eb82fc2752dc3ffbf35ca9b5bdb Mon Sep 17 00:00:00 2001
From: Rodrigo Fernandes &lt;rtfrodrigo@gmail.com&gt;
Date: Sat, 15 Oct 2016 13:21:22 +0100
Subject: [PATCH 2/2] Allow uncompiled templates

---
 README.md                 |  3 +++
 src/hoganjs-utils.js      |  7 +++++++
 test/hogan-cache-tests.js | 24 +++++++++++++++++++++++-
 3 files changed, 33 insertions(+), 1 deletion(-)

diff --git a/README.md b/README.md
index 132c8a28..46909f25 100644
--- a/README.md
+++ b/README.md
@@ -98,6 +98,9 @@ The HTML output accepts a Javascript object with configuration. Possible options
   - `synchronisedScroll`: scroll both panes in side-by-side mode: `true` or `false`, default is `false`
   - `matchWordsThreshold`: similarity threshold for word matching, default is 0.25
   - `matchingMaxComparisons`: perform at most this much comparisons for line matching a block of changes, default is `2500`
+  - `templates`: object with previously compiled templates to replace parts of the html
+  - `rawTemplates`: object with raw not compiled templates to replace parts of the html
+  &gt; For more information regarding the possible templates look into [src/templates](https://github.com/rtfpessoa/diff2html/tree/master/src/templates)

 ## Diff2HtmlUI Helper

diff --git a/src/hoganjs-utils.js b/src/hoganjs-utils.js
index 0dda08d7..b2e9c275 100644
--- a/src/hoganjs-utils.js
+++ b/src/hoganjs-utils.js
@@ -17,6 +17,13 @@
   function HoganJsUtils(configuration) {
     this.config = configuration || {};
     extraTemplates = this.config.templates || {};
+
+    var rawTemplates = this.config.rawTemplates || {};
+    for (var templateName in rawTemplates) {
+      if (rawTemplates.hasOwnProperty(templateName)) {
+        if (!extraTemplates[templateName]) extraTemplates[templateName] = this.compile(rawTemplates[templateName]);
+      }
+    }
   }

   HoganJsUtils.prototype.render = function(namespace, view, params) {
diff --git a/test/hogan-cache-tests.js b/test/hogan-cache-tests.js
index 3bb754ac..a34839c0 100644
--- a/test/hogan-cache-tests.js
+++ b/test/hogan-cache-tests.js
@@ -36,7 +36,7 @@ describe('HoganJsUtils', function() {
       assert.equal(null, result);
     });

-    it('should allow templates to be overridden', function() {
+    it('should allow templates to be overridden with compiled templates', function() {
       var emptyDiffTemplate = HoganJsUtils.compile('&lt;p&gt;&lt;/p&gt;');

       var config = {templates: {'generic-empty-diff': emptyDiffTemplate}};
@@ -44,5 +44,27 @@ describe('HoganJsUtils', function() {
       var result = hoganUtils.render('generic', 'empty-diff', {myName: 'Rodrigo Fernandes'});
       assert.equal('&lt;p&gt;Rodrigo Fernandes&lt;/p&gt;', result);
     });
+
+    it('should allow templates to be overridden with uncompiled templates', function() {
+      var emptyDiffTemplate = '&lt;p&gt;&lt;/p&gt;';
+
+      var config = {rawTemplates: {'generic-empty-diff': emptyDiffTemplate}};
+      var hoganUtils = new (require('../src/hoganjs-utils.js').HoganJsUtils)(config);
+      var result = hoganUtils.render('generic', 'empty-diff', {myName: 'Rodrigo Fernandes'});
+      assert.equal('&lt;p&gt;Rodrigo Fernandes&lt;/p&gt;', result);
+    });
+
+    it('should allow templates to be overridden giving priority to compiled templates', function() {
+      var emptyDiffTemplate = HoganJsUtils.compile('&lt;p&gt;&lt;/p&gt;');
+      var emptyDiffTemplateUncompiled = '&lt;p&gt;Not used!&lt;/p&gt;';
+
+      var config = {
+        templates: {'generic-empty-diff': emptyDiffTemplate},
+        rawTemplates: {'generic-empty-diff': emptyDiffTemplateUncompiled}
+      };
+      var hoganUtils = new (require('../src/hoganjs-utils.js').HoganJsUtils)(config);
+      var result = hoganUtils.render('generic', 'empty-diff', {myName: 'Rodrigo Fernandes'});
+      assert.equal('&lt;p&gt;Rodrigo Fernandes&lt;/p&gt;', result);
+    });
   });
 });
</code></pre>]]></content><author><name></name></author><category term="sample-posts"/><category term="formatting"/><category term="code"/><summary type="html"><![CDATA[this is how you can display code diffs]]></summary></entry><entry><title type="html">a post with advanced image components</title><link href="https://alshedivat.github.io/blog/2024/advanced-images/" rel="alternate" type="text/html" title="a post with advanced image components"/><published>2024-01-27T11:46:00+00:00</published><updated>2024-01-27T11:46:00+00:00</updated><id>https://alshedivat.github.io/blog/2024/advanced-images</id><content type="html" xml:base="https://alshedivat.github.io/blog/2024/advanced-images/"><![CDATA[<p>This is an example post with advanced image components.</p> <h2 id="image-slider">Image Slider</h2> <p>This is a simple image slider. It uses the <a href="https://swiperjs.com/">Swiper</a> library. Check the <a href="https://swiperjs.com/demos">examples page</a> for more information of what you can achieve with it.</p> <swiper-container keyboard="true" navigation="true" pagination="true" pagination-clickable="true" pagination-dynamic-bullets="true" rewind="true"> <swiper-slide> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/9-480.webp 480w,/assets/img/9-800.webp 800w,/assets/img/9-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/9.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </swiper-slide> <swiper-slide> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/7-480.webp 480w,/assets/img/7-800.webp 800w,/assets/img/7-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/7.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </swiper-slide> <swiper-slide> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/8-480.webp 480w,/assets/img/8-800.webp 800w,/assets/img/8-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/8.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </swiper-slide> <swiper-slide> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/10-480.webp 480w,/assets/img/10-800.webp 800w,/assets/img/10-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/10.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </swiper-slide> <swiper-slide> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/12-480.webp 480w,/assets/img/12-800.webp 800w,/assets/img/12-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/12.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </swiper-slide> </swiper-container> <h2 id="image-comparison-slider">Image Comparison Slider</h2> <p>This is a simple image comparison slider. It uses the <a href="https://img-comparison-slider.sneas.io/">img-comparison-slider</a> library. Check the <a href="https://img-comparison-slider.sneas.io/examples.html">examples page</a> for more information of what you can achieve with it.</p> <img-comparison-slider> <figure slot="first"> <picture> <source class="responsive-img-srcset" srcset="/assets/img/prof_pic-480.webp 480w,/assets/img/prof_pic-800.webp 800w,/assets/img/prof_pic-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/prof_pic.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <figure slot="second"> <picture> <source class="responsive-img-srcset" srcset="/assets/img/prof_pic_color-480.webp 480w,/assets/img/prof_pic_color-800.webp 800w,/assets/img/prof_pic_color-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/prof_pic_color.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </img-comparison-slider>]]></content><author><name></name></author><category term="sample-posts"/><category term="formatting"/><category term="images"/><summary type="html"><![CDATA[this is what advanced image components could look like]]></summary></entry></feed>